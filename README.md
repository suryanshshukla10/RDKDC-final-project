# RDKDC-lab03
RDKDC lab 3

# Function Test Script
>lab3.m

Run only relevant parts of script with Ctrl+Enter or F9

# Run the function for body jacobian calculation
>q = [pi/4; pi/3; pi/6; pi/5; pi/2; pi/3;];
JacobianBody(q)

write as it is code in the matlab terminal.

# List of functions 
> ur5FwdKin.m 

This function calculates the forward kinematics using the DH parameters. 
It uses function DH_para.m 

> DH_para.m

It calculates the DH-parameter, with 4 input values, as (a, alpha, theta, d) (order may not be correct). 
All of them are the DH-parameter for single joint or i=1.


# Adjoint

>Adjoint.m 

This function calculates the adjoint of transformation matrix according to MLS book

## Input - 
g matrix $\in$ SE(3), 4x4 homogeneous matrix 

## Output - 
Adj of transformation, 6x6 matrix  



# Body Jacobian 

>JacobianBody.m

This function actually calculates the body jacobian. 

### Input - 

Angles in radian, q=[(theta1,theta2,theta3,theta4,theta5,theta6)]

### Output - 
6x6 body jacobian matrix 


This function is specifically designed for the UR5. 

Most of the parameters are given and the tranasformation matrix is calculated using DH parameters. 



# Twist 
>twist.m 

## Input - (omega, q, theta)

omega -  twist axis [3x1] vector or [1x3] vector (doesn't matter as we are converting it to skew matrix)

q - any point on twist axis, [3x1] vector or [1x3] vector

theta - angle in radians 

## Output 
Either:

a) 6x1 vector, with first three elements of vb and last three elements of wb. 

twist = (vb,wb)

b) 4x4 matrix, twist exponential

## Description 

It calculates the twist accordig to convention given in MLS book. 

i.e. 
twist = (vb , wb)
twist exponential = Eqn (2.36) MLS



# forward kinematics using twist
>ur5fwdtwist.m

This is optional function as an alternative for calculation the forward kinematics map using twist.

All the structure is similar to ur5FwdKin.m, except the internal calculation is done using twist.m function. 

it is not to be used in this lab project.
# manipulability
>manipulability.m

It compute a measure of manipulability
## Inputs 
**Input1** - J: a 6x6 matrix 
**Input2** - measure : string with 'signmamin', 'detjac',invcond'

**output** - mu :  measure of manipulability

There are three possible manipulability calculations. If the input measure is "signmamin" then the function will calculate the minimum singular value of J. For the second input measure as "detjac", the function will calculate the Determinant of J and if the input is "invcond" the mu will give the inverse condition number of J. 

### Inverse condition number of J - 
The inverse condition number gives a measure of sensitivity of the magnitude of he end effector velocity V to the direction of the joint velocity vector $\theta ^ \cdot$.

### Minimum Singular value of J - 
It corresponds to the minimum workspace velocity that can be produced by a unit joint velocity vector. 

### Determinant of J - 
The determinanat of jacobian measures the volume of the velocity ellipsoid generated by unit joint velocity vectors. 



 # Skew matrix function
 > skew.m
 
 It returns the skew symmetric matrix 3x3 for a input vector 3x1

# getXi.m
>getXi.m

It takes a homogeneous transofmration matix and extract the unscaled twist

Input - g: homogeneous transformation 

output - xi, (un normalized twist) in 6x1 vector  
 
To run - the function use the following as example input-  
> th = pi/4;

>l2 = 10;

>l1 = 5;

>g = [cos(th),-sin(th),0, -l2*sin(th);sin(th),cos(th),0, l1+l2*sin(th);0,0,1,0;0,0,0,1];

> getXi(g)


# Class Helper Functions
>tf_frame.m
>ur5_interface.m
